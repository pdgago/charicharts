!function(){"use strict";function a(a,b){return"translate("+a+","+b+")"}function b(a){return a.margin=_.object(["top","right","bottom","left"],a.margin.split(",").map(Number)),a.fullWidth=a.target.offsetWidth,a.fullHeight=a.target.offsetHeight,a.width=a.fullWidth-a.margin.left-a.margin.right,a.height=a.fullHeight-a.margin.top-a.margin.bottom,a}function c(a){function b(){return d3.extent(a.data,function(a){return a.datetime})}function c(){return[0,d3.max(a.data,function(a){return a.value})]}function d(){return d3.extent(a.data,function(a){return a.value})}function e(a,e){return"time"===a?b():e?d():c()}function f(){var b=e(a.xaxis.scale,a.xaxis.fit);return h[a.xaxis.scale]().domain(b).range([0,a.width])}function g(){var b=e(a.yaxis.scale,a.yaxis.fit);return h[a.yaxis.scale]().domain(b).range([a.height,0])}var h={time:d3.time.scale,linear:d3.scale.linear};return[f(),g()]}var d={version:"0.0.0"},e="g-main";d.chart=function(a){return this._options=b(_.extend(a,this.constructor.defaults)),_.extend(this,d.Events(this)),this.init(),this},d.chart.prototype.init=function(){{var b=this._options,d=(d3.select(b.target).append("svg").attr("width",b.fullWidth).attr("height",b.fullHeight).append("g").attr("class",e).attr("transform",a(b.margin.left,b.margin.top)),c(_.pick(b,"width","height","xaxis","yaxis","data")));d[0],d[1]}},d.chart.defaults={margin:"0,0,0,0",xaxis:{scale:"time",fit:!1},yaxis:{scale:"linear",fit:!1}},d.Events=function(a){var b=a.c_||{},c=function(c,d){for(var e=b[c],f=e?e.length:0;f--;)e[f].apply(a,d||[])},d=function(a,c){return b[a]||(b[a]=[]),b[a].push(c),[a,c]},e=function(a,c){var d=b[c?a:a[0]],e=d?d.length:0;for(c=c||a[1];e--;)d[e]===c&&d.splice(e,1)};return{trigger:c,on:d,unbind:e}},d.pie=function(a){return this._options=b(_.extend(a,this.constructor.defaults)),_.extend(this,d.Events(this)),this.init(),this},d.pie.prototype.init=function(){var b=this._options,c=Math.min(b.fullWidth,b.fullHeight)/2,d=d3.select(b.target).append("svg").attr("width",b.fullWidth).attr("height",b.fullHeight).append("g").attr("class",e).attr("transform",a(b.fullWidth/2,b.fullHeight/2));d.append("svg:circle").attr("class","outer-circle").attr("fill","transparent").attr("cx",0).attr("cy",0).attr("r",c);var f=d3.layout.pie().value(function(a){return a.value||100/b.data.length}),g=d3.svg.arc().innerRadius(.9*c-b.fullWidth*b.innerRadius).outerRadius(.9*c);d.selectAll("path").data(f(b.data)).enter().append("path").attr("fill",_.bind(function(a){return a.data.color},this)).attr("d",g)},d.pie.defaults={innerRadius:.22,margin:"0,0,0,0"},"function"==typeof define&&define.amd?define(d):"object"==typeof module&&module.exports&&(module.exports=d),this.Charicharts=d}.call(window);