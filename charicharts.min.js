!function(){"use strict";function a(a,b){return"translate("+a+","+b+")"}function b(a){return a.margin=_.object(["top","right","bottom","left"],a.margin.split(",").map(Number)),a.width=a.target.offsetWidth-a.margin.left-a.margin.right,a.height=a.target.offsetHeight-a.margin.top-a.margin.bottom,a}var c={version:"0.0.0"};c.Events=function(a){var b=a.c_||{},c=function(c,d){for(var e=b[c],f=e?e.length:0;f--;)e[f].apply(a,d||[])},d=function(a,c){return b[a]||(b[a]=[]),b[a].push(c),[a,c]},e=function(a,c){var d=b[c?a:a[0]],e=d?d.length:0;for(c=c||a[1];e--;)d[e]===c&&d.splice(e,1)};return{trigger:c,on:d,unbind:e}},c.pie=function(a){return this._options=b(_.extend(a,this.constructor.defaults)),_.extend(this,c.Events(this)),this.init(),this},c.pie.prototype.init=function(){var b=this._options,c=b.width+b.margin.left+b.margin.right,d=b.height+b.margin.top+b.margin.bottom,e=Math.min(b.width,b.height)/2,f=d3.select(b.target).append("svg").attr("width",c).attr("height",d).append("g").attr("class","g-main").attr("transform",a(c/2,d/2));f.append("svg:circle").attr("class","outer-circle").attr("fill","transparent").attr("cx",0).attr("cy",0).attr("r",e);var g=d3.layout.pie().value(function(a){return a.value||100/b.data.length}),h=d3.svg.arc().innerRadius(.9*e-b.width*b.innerRadius).outerRadius(.9*e);f.selectAll("path").data(g(b.data)).enter().append("path").attr("fill",_.bind(function(a){return a.data.color},this)).attr("d",h)},c.pie.defaults={innerRadius:.22,margin:"0,0,0,0"},"function"==typeof define&&define.amd?define(c):"object"==typeof module&&module.exports&&(module.exports=c),this.Charicharts=c}.call(window);