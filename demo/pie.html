<!DOCTYPE html>
<meta charset="utf-8">
<style>
  body {
    width: 300px;
    height: 300px;
  }
</style>
<body>
<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore.js"></script>
<script src="http://d3js.org/d3.v3.js"></script>
<script src="charicharts.js"></script>
<script>

var color = d3.scale.category10();

var data = _.map(_.range(_.random(6,10)),
  function(d,i) {
  return {
    id: i,
    value: _.random(1, 100),
    color: color(i)
  };
});

var options = {
  target: d3.select('body').node(),
  innerArrow: true,
  hoverFade: 0.6,
};

var pie = new Charicharts.Pie(options, data);

setInterval(function() {
  data[_.random(0,data.length-1)].value = _.random(1, 100);
  // data.push({
  //   value: _.random(1, 100),
  //   color: color(_.random(0,10))
  // });
  // data.shift();
  pie.series.update();
}, 400);

</script>