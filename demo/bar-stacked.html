<!DOCTYPE html>
<html>
<head>
  <title>Charicharts Demo</title>
  <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore.js"></script>
  <script src="http://d3js.org/d3.v3.js"></script>
  <script src="https://code.jquery.com/jquery-2.1.1.js"></script>
  <script src="charicharts.js"></script>

  <style type="text/css">
    body,
    html {
      height: 100%;
      width: 100%;
    }

    #bar {
      width: 400px;
      height: 400px;
    }

    .yaxis line {
      stroke: #e8e8e8;
      shape-rendering: crispEdges;
    }
  </style>

</head>
<body>

  <div id="bar"></div>

  <script type="text/javascript">
    var color = d3.scale.category10();

    var getValue = function(i) {
      var scrutinized = _.map(_.range(8),
        function(d,i) {
          return {
            color: color(i),
            id: i,
            value: _.random(1,100)
          };
        });

      var date = new Date();
      date.setHours(i, 0, 0, 0);

      return {
        scrutinized: scrutinized,
        datetime: date
      };
    };

    var getSeries = function() {
      return _.map(_.range(1), function(hour) {
        // return a serie
        return {
          type: 'stacked-bar',
          values: _.map(_.range(12), function(d,i) {
            return getValue(i)
          })
        }
      });
    };

    var options = {
      target: document.getElementById('bar'),
      data: getSeries(),
      margin: '0,40,1,0',
      series: {
        barWidth: 18,
        stackedBarAlign: 'left'
      },
      yaxis: {
        fit: false,
        left: {
          tickFormat: function() {
            return '';
          }
        }
      },
    };

    var bar = new Charicharts.Chart(options);
  </script>

</body>
</html>